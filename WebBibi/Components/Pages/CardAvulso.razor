
<div class="card m-2 w-100 rounded-2">

    @if (veiculo.EhOferta)
    {
        <h5 class="text-white text-center p-2 mb-0"
            style="background-color:var(--roxo);">
            Oferta especial
        </h5>
    } else
    {
        <h5 class="text-white text-center p-2 mb-0"
            style="background-color:var(--roxo);">
            Venda
        </h5>
    }

    <img src="@veiculo.ImagemUrl"
         class="card-img-top"
         alt="@veiculo.Modelo"
        style="height:18vh;">

    <div class="card-body">

        <h3 class="card-title mb-1">@veiculo.Modelo</h3>
        <small class="text-muted">
            @veiculo.Marca • @veiculo.Ano
        </small>

        <hr class="my-3">

        <div class="mb-2">
            <p class="mb-1">Entrada a partir de</p>
            <h2 class="fw-bolder mb-0" style="color:var(--roxo);">
                @CalcularEntrada(veiculo.Preco).ToString("C")
            </h2>
        </div>

        <small class="text-muted">
            Parcelas em até 36x de
            <strong>
                @CalcularParcela(veiculo.Preco).ToString("C")
            </strong>
        </small>

        @if (veiculo.AceitaUsado)
        {
            <p class="pt-3 mb-0">
                ✔ Aceitamos seu usado na troca
            </p>
        }
    </div>

    <div class="row justify-content-center p-2 pb-4 gap-2">
        <a class="col-10 btn btn-outline-primary btn-roxo-outline"
           style="color:var(--roxo); border-color:var(--roxo);">
            Entrar em contato
        </a>

        <a class="col-10 btn btn-outline-success">
            <i class="bi bi-whatsapp"></i> Contato via WhatsApp
        </a>
    </div>

</div>


@code {
    [Parameter]
    public Veiculo veiculo { get; set; }  

    decimal CalcularEntrada(decimal preco)
    {
        return preco * 0.10m; 
    }

    decimal CalcularValorFinanciado(decimal preco)
    {
        return preco - CalcularEntrada(preco);
    }

    decimal CalcularParcela(decimal preco, int parcelas = 36)
    {
        return CalcularValorFinanciado(preco) / parcelas;
    }


}
